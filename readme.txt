【金葫芦App(Android)（安卓App)】
【最终版本时间】2019年1月30日
【readme更新】 2019年05月09日
-----------------------------------------------------------------------------------------------------------------------
（1）工程简介：
    本工程为金葫芦的Android APP，提供帧数据的实时显示，历史记录查询。本工程直接与数据库进行交互，要想获得真正的实时信息，需要首先打开金葫芦的侦听程序对数据进行侦听。本程序实现了四个界面，分别是项目、实时数据、历史数据和帮助。
        1）“项目”：不同项目选择入口。
        2）“实时数据”：建立与服务器的Websocket连接，等待服务器发送有新数据到来的信息，并根据接收信息中的ID在向服务器请求对应的数据，得到实时数据显示出来。同时，可以看到，“实时数据”上有“回发”按钮（“回发”按钮只会在接收到实时数据后可点击），当按下“回发”按钮时，会触发一个事件，该事件将通过Websocket连接向服务器发送回发的请求，并由服务器将修改后的新数据返回给UE终端。
        3）“历史数据”：查询历史数据，即向服务器发送历史数据帧请求，从而获取数据库的数据表中的历史数据。其功能按钮分别为 “最早一帧”、“上一帧”、“下一帧”、“最新一帧”、“写入下行表”五个按钮。
        4）“帮助”：提供了该App的操作过程中可能出现的问题，并给出相应的解决方法，以及其他一些帮助信息。
（2）简要执行流程：
    进入APP之后，首先进入实时数据界面，选择需要侦听的imsi号，即可实时侦听终端发送的该IMSI号数据（若选择“全部”，则监听所有IMSI号的实时数据），当收到一帧数据时，可以在30s内对接收到的数据进行修改并回发至终端。点击左上角菜单栏或者向右滑动屏幕选择“历史”选项卡即可选择切换到历史数据页面，选择需要查询的imsi号，即可查询该imsi号的所有数据帧，在屏幕下方可以点击按钮进行第一帧，上一帧、下一帧、最新帧以及写入下行表的操作。
（3）页面设计：
    进入“app/src/main/res/layout”文件夹，打开“activity_main.xml”，选择“Design”视图。可以通过“Design”视图直接拖拽控件进入界面，也可以在“Text”界面中按照要求书写创建控件的代码。
（4）获取数据与使用
    在“app”文件夹中，“src/main/java”路径下的java代码是可以和“src/main/res/layout”文件下的布局文件进行绑定的，用来实现界面里的功能。目录结构与实现方式可以参考《窄带物联网NB-IoT应用开发共性技术》第10.3.2与10.3.3小节。
-----------------------------------------------------------------------------------------------------------------------
苏州大学嵌入式实验室